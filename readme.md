# –ß—Ç–æ —Ç–∞–∫–æ–µ —ç—Ç–∏ –±–æ—Ç—ã?

–ö–æ–º—É-—Ç–æ –±–æ—Ç—ã –≤ –º–µ—Å—Å–µ–Ω–∂–µ—Ä–∞—Ö –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Å–ª–æ–∂–Ω–æ–π —à—Ç—É–∫–æ–π, –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∂–µ –º—ã –º–æ–∂–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±–æ—Ç–∞ –∫–∞–∫ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ –∏–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞. –ï—â–µ –ø—Ä–æ—â–µ –±—É–¥–µ—Ç –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±–æ—Ç–∞ –∫–∞–∫ –Ω–µ–∫–∏–π –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–∞ –Ω–∏—Ö –æ—Ç–≤–µ—á–∞—Ç—å. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º—ã —Ä–∞–∑–±–µ—Ä–µ–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–æ –ø–µ—Ä–≤—ã–º –Ω–∞—à–∏–º –±–æ—Ç–æ–º –±—É–¥–µ—Ç –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–π `echo-–±–æ—Ç`, –∑–∞–¥–∞—á–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–≤–µ—á–∞—Ç—å —Ç–µ–º-–∂–µ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –∫–æ—Ç–æ—Ä–æ–µ –æ–Ω –ø–æ–ª—É—á–∏–ª. –ù–æ –ø—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –µ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –Ω–∞–º –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π "Hello world!" –Ω–∞ —è–∑—ã–∫–µ `python`.

# –°–æ–∑–¥–∞–Ω–∏–µ Hello World –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Python.

–ò —Ç–∞–∫.. —É –Ω–∞—Å –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —è–∑—ã–∫–∞ `python3`, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å—Ç–∞—Ä—Ç–∞–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
   –î–∞–≤–∞–π—Ç–µ –≤ –ø–∞–ø–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–¥–∏–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `mybot`, –¥–ª—è —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

   ```bash
   cd ~# –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   mkdir mybot # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É mybot
   cd mybot # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É mybot
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `virtualenv` –∏—Å–ø–æ–ª—å–∑—É—è –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ `pip`

   –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ... –¥–æ–ø—É—Å—Ç–∏–º –Ω–∞ NodeJs –≤–∞—à–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `node_modules`, –≤ python –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–º–Ω–æ–≥–æ –ø–æ –¥—Ä—É–≥–æ–º—É - –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ, –∞ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–æ–º—É, —á—Ç–æ –≤—Å–µ –≤–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã –±—É–¥—É—Ç —à–∞—Ä–∏—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é –ø–∞–∫–µ—Ç–∞. –ü–∞–∫–µ—Ç—ã –∂–µ –∏–º–µ—é—Ç —Å–≤–æ–π—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∏ –ª–æ–º–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –¥–ª—è –±–æ—Ä—å–±—ã —Å –ø–æ–¥–æ–±–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –º—ã –±—É–¥–µ–º –∏—Å–ø–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `virtualenv`. –ù–∞—á–Ω–µ–º —Å —Ç–æ–≥–æ —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏–º –µ–≥–æ:

   ```bash
   pip install virtualenv
   # –ù–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –µ—Å–ª–∏ –≤—ã –Ω–∞ Linux, –≤—ã —É–≤–∏–¥–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –≤–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø–æ–¥–æ–±–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
   sudo pip install virtualenv # –í–æ—Ç —Ç–∞–∫ —É–∂–µ –ª—É—á—à–µ
   ```

   –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ `virtualenv` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞–±–µ—Ä–µ–º —Å–ª–µ–¥—É–µ—â–µ–µ:

   ```bash
   virtualenv --version
   ```

   –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –≤—ã–≤–µ–ª–∞—Å—å - —Ç–æ –≤—Å–µ —Ö–æ—Ä–æ—à–æ.
   –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–∞–≤–∞–π—Ç–µ —É–∂–µ —Å–æ–∑–¥–∞–¥–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–±–∏—Ä–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

   ```bash
   virtualenv ./pyenv
   source ./.pyenv/bin/activate
   ```

   –ò —Å–Ω–æ–≤–∞! –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–µ - –≤—ã —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

3. –ü–∏—à–µ–º —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–µ "Hello world!"

   –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª `hello.py` —Å —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:

   ```python
   print("Hello world!")
   ```

4. –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ç–æ —Ñ–∞–π–ª

   ```bash
   python3 ./hello.py
   ```

5. –†–∞–¥—É–µ–º—Å—è –Ω–∞–¥–ø–∏—Å–∏ "Hello world!" –≤ –∫–æ–Ω—Å–æ–ª–∏

# –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –±–æ—Ç–∞–º

–ú—ã —Å–µ–π—á–∞—Å –Ω–∞–ø–∏—Å–∞–ª–∏ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ `python` –∏ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –æ–Ω –¥–ª—è –∫–æ–≥–æ-—Ç–æ –ø–µ—Ä–≤—ã–π. –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–Ω–æ–≤–∞ –≤–µ—Ä–Ω–µ–º—Å—è –∫ —Ä–∞–∑–≥–æ–≤–æ—Ä—É –æ –±–æ—Ç–∞—Ö –∏ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º —Å—É—â–Ω–æ—Å—Ç–∏ —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–∞–º –Ω–∞–¥–æ –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –Ω–∏–º.

- `–†–∞–∑–≥–æ–≤–æ—Ä` - –ß–∞—Ç –º–µ–∂–¥—É –¥–≤—É–º—è –ª—é–¥—å–º–∏.
  > –ï—Å–ª–∏ –º—ã –±—É–¥–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ Telegram, —Ç–æ –¥–ª—è –Ω–µ–≥–æ –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ `–†–∞–∑–≥–æ–≤–æ—Ä` –≤ –µ–≥–æ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –≤—Å–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Ç–∞–º–∏, –ø—Ä–æ—Å—Ç–æ –±—ã–≤–∞—é—Ç —Ç–∞–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω—ã–µ, –≥–¥–µ —Ç–æ–ª—å–∫–æ –¥–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞.
- `–ß–∞—Ç` - –ö–æ–º–Ω–∞—Ç–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª—é–¥–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è.
- `–°–æ–æ–±—â–µ–Ω–∏–µ` - –ö–∞–∫–∞—è-—Ç–æ –∑–∞–ø–∏—Å—å —É –∫–æ—Ç–æ—Ä–æ–π —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –µ—Å—Ç—å –∞–≤—Ç–æ—Ä –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–º –≤ –∫–∞–∫–æ–º —á–∞—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è.

<img src="./imgs/bot_and_entities.png" width="500"/>

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —á—Ç–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ.. `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è`, `–§–∞–π–ª—ã`, `–ê—É–¥–∏–æ` –∏.—Ç.–¥. –ü–æ–º–∏–º–æ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ —ç—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–µ –∫–æ–ª-–≤–æ –ø–æ–ª–µ–π. –°–æ –≤—Å–µ–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –º—ã –º–æ–∂–µ–º –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ: [Telegram Bot API (Available Types)](https://core.telegram.org/bots/api#available-types). –° —Ç–∏–ø–∞–º–∏/—Å—É—â–Ω–æ—Å—Ç—è–º–∏ –º—ã –µ—â–µ –±—É–¥–µ–º –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è, –∞ –ø–æ–∫–∞ –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø–æ–¥—É–º–∞—Ç—å –∫–∞–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å **echo-–±–æ—Ç**, –¥–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:

- –ú—ã –∑–∞–≤–µ–¥–µ–º —Å –±–æ—Ç–æ–º —Ä–∞–∑–≥–æ–≤–æ—Ä
- –û–Ω –Ω–∞—á–Ω–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ—Ç –Ω–∞—Å —Å–æ–æ–±—â–µ–Ω–∏—è, –±–æ—Ç –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å –∫—Ç–æ –µ–º—É –Ω–∞–ø–∏—Å–∞–ª –∏ –≤ –∫–∞–∫–æ–º —á–∞—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ.
- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –° —Ç–µ–º –∂–µ —Ç–µ–∫—Å—Ç–æ–º
  - –í —Ç–æ—Ç –∂–µ —á–∞—Ç –æ—Ç –∫—É–¥–∞ –æ–Ω —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∏–ª

–ù–∞–¥–µ—é—Å—å, —á—Ç–æ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —É –≤–∞—Å —É–∂–µ —Å–ª–æ–∂–∏–ª–æ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –æ —Ç–æ–º —á—Ç–æ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∏–∑ —Å–µ–±—è –Ω–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞(_–±–æ—Ç_).

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –±–æ—Ç–∞ –Ω–∞–º –Ω–∞–¥–æ –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤ —Ç–µ–ª–µ–≥–µ. –ê –µ—â–µ –º—ã –¥–æ–ª–∂–Ω—ã –Ω–∞–π—Ç–∏ –±–æ—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ `BotFather`.

<img src="./imgs/botfather.png" width="500"/>

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –ø–∏—à–µ–º "–ø–∞–ø–∞—à–µ": `/newbot`, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ —Å –Ω–∏–º –≤ –¥–∏–∞–ª–æ–≥, –≥–¥–µ –≤—ã —Å–æ–æ–±—â–∏—Ç–µ –µ–º—É —Ç—Ä–µ–±—É–µ–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –í –∫–æ–Ω—Ü–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–∞ –∏ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ! - **–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ API**

> ‚ö†Ô∏è–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ç–æ, —á—Ç–æ –≤–∞–º –æ—Ç–≤–µ—á–∞–µ—Ç –±–æ—Ç! –ö–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å:
>
> - –í—ã –Ω–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–ª–∏ `username` –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—É–Ω–∏–∫–∞–ª—å–Ω—ã–º** –∏ **–∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ 'Bot'**

# –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ API

> –ó–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–æ –º–µ—Ç–æ–¥–∞–º –±–µ–∂–∏–º –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ: [Telegram Bot API (Available Methods)](https://core.telegram.org/bots/api#available-methods)

> –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ —á—Ç–æ–±—ã –≤—ã –¥–µ–ª–∞–ª–∏ –∑–∞–ø—Ä–æ—Å—ã –ª–∏–±–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ Firefox, –ª–∏–±–æ –≤ —á—Ç–æ–±—ã –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è JSON

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å _—Ç–æ–∫–µ–Ω_ –∞ —Å –Ω–∏–º –º—ã –º–æ–∂–µ–º –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –∞–ø–∏—à–∫—É. –ö–∞–∫ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã? –õ–µ–≥–∫–æ! –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä –∏ –ø–∏—à–µ–º –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ: `https://api.telegram.org/bot<YOUR_TOKEN>/getMe`.
<img src="./imgs/getMe.png" width="500">

> –ß—Ç–æ —Ç–∞–∫–æ–µ `getMe` –≤ —É—Ä–ª–µ? –î–∞! –≠—Ç–æ –º–µ—Ç–æ–≤, –∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤ –ª–µ–∂–∏—Ç –≤—ã—à–µüëÜ

# –ü–µ—Ä–≤–æ–µ –æ–±—â–µ–Ω–∏–µ —Å –Ω–∞—à–∏–º –±–æ—Ç–æ–º

–ú—ã —Å –≤–∞–º–∏ —Å–º–æ–≥–ª–∏ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ API, –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å –±–æ—Ç–æ–º –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–∞–º–∏ –∫–æ–¥–∞ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–∞–º

1. –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates`. –ú—ã –ø–æ–ª—É—á–∏–º –æ—Ç–≤–µ—Ç –Ω–æ –Ω–∏–æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω–µ–º –Ω–µ –±—É–¥–µ—Ç
2. –ù–∞—Ö–æ–¥–∏–º –±–æ—Ç–∞ –≤ Telegram
3. –ù–∞—á–∏–Ω–∞–µ–º —Å –Ω–∏–º —Ä–∞–∑–≥–æ–≤–æ—Ä –∏ –ø–∏—à–µ–º `hello`
4. –ü–æ–≤—Ç–æ—Ä—è–µ–º –ø–µ—Ä–≤—ã–π —à–∞–≥ –∏ —É–∂–µ —á—Ç–æ-—Ç–æ –µ—Å—Ç—å! –í—ã —É–≤–∏–¥–µ—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π JSON:
   ```json
   {
     "ok": true,
     "result": [
       {
         "update_id": 403492974,
         "message": {
           "message_id": 3,
           "from": {
             "id": 197562409,
             "is_bot": false,
             "first_name": "*****",
             "last_name": "****",
             "username": "****",
             "language_code": "en"
           },
           "chat": {
             "id": 197562409,
             "first_name": "*****",
             "last_name": "*******",
             "username": "*******",
             "type": "private"
           },
           "date": 1580395346,
           "text": "hello"
         }
       }
     ]
   }
   ```
5. –î–∞–≤–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∏–º –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–ª—è —ç—Ç–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å: `https://api.telegram.org/bot<YOUR_TOKEN>/sendMessage?text=hi%20to%20you%20too&chat_id=<CHAT_ID –ò–ó –ü–†–û–®–õ–û–ì–û –û–¢–í–ï–¢–ê>&reply_to_message_id=<MESSAGE_ID –ò–ó –ü–†–û–®–õ–û–ì–û –ó–ê–ü–†–û–°–ê>`

   –ü—Ä–æ–¥–µ–ª–∞–≤ –≤—Å–µ —ç—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º `hi to you too`

   > –ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ API `sendMessage`, —Å—Ä–∞–∑—É–∂–µ –ø—Ä–∏–ª–æ–∂—É —Å—Å—ã–ª–∫—É –Ω–∞ –¥–æ–∫—É –ø–æ —ç—Ç–æ–º—É –º–µ—Ç–æ–¥—É: [sendMessage](https://core.telegram.org/bots/api#sendmessage)

# python-telegram-bot

–≠—Ç–æ –ø–∞–∫–µ—Ç –¥–ª—è —è–∑—ã–∫–∞ `python`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å API –ø—Ä–æ—â–µ. –î–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º –µ–≥–æ –≤ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç(_–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ_).

```bash
printenv VIRTUAL_ENV # —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –º—ã –≤—Å–µ –µ—â–µ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
pip install python-telegram-bot # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∫–µ—Ç
```

> [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è python-telegram-bot](https://python-telegram-bot.readthedocs.io)

–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –º—ã —Å–∫–∞–∂–µ–º, —á—Ç–æ –ø–∞–∫–µ—Ç —Ä–∞–∑–±–∏—Ç –Ω–∞ 2 —á–∞—Å—Ç–∏:

- `telegram` - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–æ–≤ API –∏ –∫–∞–∫–∏–µ-—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–∞–¥ —Ç–∏–ø–∞–º–∏ –∞–ø–∏—à–∫–∏.
- `telegram.ext` - –£–∂–µ –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –º–æ–¥—É–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω–µ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏.—Ç.–¥. –°–µ–π—á–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è—Ç–Ω–æ, –Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å—Ç–∞–Ω–µ—Ç —è—Å–Ω–µ–µ —á—Ç–æ —è –∏–º–µ–ª –≤–≤–∏–¥—É.

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –Ω–∞—à–µ–≥–æ **echo-–±–æ—Ç–∞** –º—ã –∑–∞—é–∑–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é —á–∞—Å—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ - `telegram`

# Echo-Bot

–î–∞–≤–∞–π—Ç–µ —è —Å—Ä–∞–∑—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—é –≤–∞–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ **echo-–±–æ—Ç–∞**, –Ω–æ –Ω–∞–ø–∏—à–µ–º –º—ã –µ–≥–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –≤–æ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–º –Ω–∞–¥–æ –µ—â–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `python-telegram-bot`

```bash
pip install python-telegram-bot
```

–ê –≤–æ—Ç –∏ —Å–∞–º –∫–æ–¥ —Ñ–∞–π–ª–∏–∫–∞ `echo-bot.py`:

```python
import os
import logging
from dotenv import load_dotenv
from telegram import Bot

logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger("echo-bot")

max_id = 0


def main():
    global max_id
    load_dotenv()
    token = os.environ.get("ACCESS_TOKEN")
    bot = Bot(token)
    while True:
        logger.debug("start request")
        # –ú—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∞–ø–¥–µ–π—Ç—ã, –ø–æ—ç—Ç–æ–º—É –º—ã –∑–∞–≤–µ–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é max_id
        # –∏ –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ getUpdates —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º offset + timeout
        updates = bot.getUpdates(offset=max_id + 1, timeout=60)
        # –í —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –º—ã —Å–æ—Ö—Ä–∞–Ω–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π id –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–µ–π—á–∞—Å updates
        max_id_in_updates = 0
        for upd in updates:
            logger.debug(f"new update with id: {upd.update_id}")
            # –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫, —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–≤ –±–æ—Ç–∞ –º—ã –ø–æ–ª—É—á–∏–º –∞–ø–¥–µ–π—Ç—ã
            # –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏ –≤–æ –≤—Ä–µ–º—è –µ–≥–æ "—Å–ø—è—á–∫–∏", –º—ã –∏—Ö –ø—Ä–æ—Å—Ç–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º —É—Å–ª–æ–≤–∏–µ–º
            # –ø–æ—Ç–æ–º—É –∫–∞–∫ max_id –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–≤—ã—Ö –∞–ø–¥–µ–π—Ç–æ–≤
            if max_id != 0:
                bot.sendMessage(
                    upd.message.chat_id,
                    upd.message.text,
                    reply_to_message_id=upd.message.message_id,
                )
            max_id_in_updates = (
                upd.update_id
                if upd.update_id > max_id_in_updates
                else max_id_in_updates
            )
        if max_id_in_updates and max_id != max_id_in_updates:
            max_id = max_id_in_updates
            logger.debug(f"max id is changed to {max_id_in_updates}")


if __name__ == "__main__":
    main()
```

–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –∫–æ–¥ –∫–∞–∂–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º, –ø–ª—é—Å –µ–≥–æ –Ω–µ —Ç–∞–∫ —É–¥–æ–±–Ω–æ –¥–æ–ø–æ–ª–Ω—è—Ç—å —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–∞–º —Ö–æ—á–µ—Ç—Å—è:

- –ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –ª—É–ø–∞
- –£–¥–æ–±–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏... –≤–µ–¥—å –¥–æ–±–∞–≤–ª—è—Ç—å –ª–æ–≥–∏–∫—É —Å–µ–π—á–∞—Å —Å–ª–æ–∂–Ω–æ

–ù—É–∂–Ω–∞ –∫–∞–∫–∞—è-—Ç–æ "–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞", –∞ `telegram.ext` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–º –æ—á–µ–Ω—å —É–¥–æ–±–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:

- `Updater` - –ü–æ–ª—É—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É (doc: [Updater](https://python-telegram-bot.readthedocs.io/en/latest/telegram.ext.updater.html#telegram.ext.Updater))
- `Dispatcher` - –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–Ω –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º (doc: [Dispatcher](https://python-telegram-bot.readthedocs.io/en/latest/telegram.ext.dispatcher.html))
- `Handler` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

  –í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–∫–ª–∞—Å—Å—ã `Handler`:

  - `MessageHandler` - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—à–ª–∏ –∫–∞–∫–æ–π-—Ç–æ —Ñ–∏–ª—å—Ç—Ä
  - `CommandHandler` - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã (—Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≤–∏–¥–µ: `/some_command`)

–î–∞–≤–∞–π—Ç–µ —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–ø–∏—à–µ–º –Ω–∞—à—É –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑—É—è —É–∂–µ `telegram.ext`

```python
import os
import logging
from dotenv import load_dotenv
from telegram.ext import Updater, MessageHandler, CommandHandler, Filters

logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger("echo-bot")


def echo(update, context):
    context.bot.send_message(
        chat_id=update.effective_chat.id,
        text=update.message.text,
        reply_to_message_id=update.message.message_id,
    )


def start(update, context):
    context.bot.send_message(chat_id=update.effective_chat.id, text="Hello!")


def main():
    load_dotenv()
    token = os.environ.get("ACCESS_TOKEN")
    # –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Updater
    updater = Updater(token, use_context=True)
    dispatcher = updater.dispatcher
    # –°–æ–∑–¥–∞–µ–º 2 —Ö–µ–Ω–¥–ª–µ—Ä–∞
    echo_handler = MessageHandler(Filters.text, echo)
    dispatcher.add_handler(echo_handler)
    start_handler = CommandHandler("start", start)
    dispatcher.add_handler(start_handler)
    # –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram Bot API
    updater.start_polling()


if __name__ == "__main__":
    main()
```
> ü§îTODO: –ï—Å–ª–∏ –±—É–¥–µ—Ç –≤—Ä–µ–º—è –¥–æ–ø–∏—à—É —Å—é–¥–∞ —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞ —Å–≤–µ—Ä—Ö—É, –Ω–æ –≤–æ–æ–±—â–µ —è —Å–¥–µ–ª–∞—é —ç—Ç–æ —Å–ª–æ–≤–µ—Å—Ç–Ω–æ –Ω–∞ –≤–æ—Ä–∫—à–æ–ø–µ

# TODO-Bot
–í–æ—Ç –º—ã —Å –≤–∞–º–∏ —É–∂–µ —á—Ç–æ-—Ç–æ –∏ —É–º–µ–µ–º —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º __TODO-Bot__. –û–±—â–∞—Ç—å—Å—è –º—ã —Å –Ω–∏–º –±—É–¥–µ—Ç –∫–æ–º–∞–Ω–¥–∞–º–∏:
* `/addtodo –ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ` - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ"
* `/ls` - –í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π c –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏
* `/rm` - –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ 
* `/done` - –ü–æ–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ

–ò –¥–∞–≤–∞–π—Ç–µ –≤–≤–µ–¥–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏–π:
* –ë–æ—Ç –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º –¥–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ —Å–ø—Ä–∞–≤–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
* –ï—Å–ª–∏ –æ–Ω –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –Ω–∞—à—É –∫–æ–º–∞–Ω–¥—É –æ–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞–º –æ–± —ç—Ç–æ–º —Å–æ–æ–±—â–∏—Ç—å
